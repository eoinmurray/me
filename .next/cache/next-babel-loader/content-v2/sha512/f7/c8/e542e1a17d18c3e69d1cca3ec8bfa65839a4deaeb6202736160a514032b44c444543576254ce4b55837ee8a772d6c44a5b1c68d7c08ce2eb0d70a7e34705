{"ast":null,"code":"export default (function (unicode) {\n  var canvas = document.createElement('canvas');\n\n  var getContext = function getContext(w) {\n    canvas.width = canvas.height = w;\n    var context = canvas.getContext('2d');\n    context.font = 'normal normal normal 26px/' + w + 'px sans';\n    context.textBaseline = 'middle';\n    return context;\n  };\n\n  var hex2char = function hex2char(hex) {\n    var result = '',\n        n = parseInt(hex, 16);\n    if (n <= 0xFFFF) result += String.fromCharCode(n);else if (n <= 0x10FFFF) {\n      n -= 0x10000;\n      result += String.fromCharCode(0xD800 | n >> 10) + String.fromCharCode(0xDC00 | n & 0x3FF);\n    }\n    return result;\n  };\n\n  var context = getContext(32);\n  var content = unicode.replace(/[Uu]\\+10([A-Fa-f0-9]{4})/g, function (str, match) {\n    return hex2char('10' + matches);\n  }).replace(/[Uu]\\+([A-Fa-f0-9]{1,5})/g, function (str, match) {\n    return hex2char(match);\n  });\n  var iconWidth;\n  var link = document.createElement('link');\n  if (!canvas.toDataURL || !document.querySelectorAll) return;\n  iconWidth = context.measureText(content).width;\n  if (iconWidth > canvas.width) context = getContext(iconWidth);\n  context.fillText(content, (canvas.width - iconWidth) / 2, canvas.height / 2);\n  link.setAttribute('rel', 'icon');\n  link.setAttribute('type', 'image/png');\n  link.setAttribute('href', canvas.toDataURL('image/png'));\n\n  for (var icons = document.querySelectorAll('link[rel*=icon]'), i = 0, l = icons.length; i < l; i++) {\n    icons[i].parentNode.removeChild(icons[i]);\n  }\n\n  document.getElementsByTagName('head')[0].appendChild(link);\n});","map":{"version":3,"sources":["/Users/eoinmurray/kyso/me/components/UnicodeFavicon.js"],"names":["unicode","canvas","document","createElement","getContext","w","width","height","context","font","textBaseline","hex2char","hex","result","n","parseInt","String","fromCharCode","content","replace","str","match","matches","iconWidth","link","toDataURL","querySelectorAll","measureText","fillText","setAttribute","icons","i","l","length","parentNode","removeChild","getElementsByTagName","appendChild"],"mappings":"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","sourcesContent":["export default (unicode) => {\n  const canvas = document.createElement('canvas')\n\n  const getContext = (w) => {\n    canvas.width = canvas.height = w\n    let context = canvas.getContext('2d')\n    context.font = 'normal normal normal 26px/' + w + 'px sans'\n    context.textBaseline = 'middle'\n    return context\n  }\n\n  const hex2char = (hex) => {\n    var result = '', n = parseInt(hex, 16)\n\n    if(n <= 0xFFFF)\n      result += String.fromCharCode(n)\n    else if(n <= 0x10FFFF) {\n      n -= 0x10000\n      result += String.fromCharCode(0xD800 | (n >> 10)) + String.fromCharCode(0xDC00 | (n & 0x3FF))\n    }\n    return result\n  }\n\n  let context = getContext(32)\n  const content = unicode\n    .replace(/[Uu]\\+10([A-Fa-f0-9]{4})/g, function(str, match) {\n      return hex2char('10' + matches)\n    }).replace(/[Uu]\\+([A-Fa-f0-9]{1,5})/g, function(str, match) {\n      return hex2char(match)\n    })\n\n  let iconWidth\n  const link = document.createElement('link')\n\n  if(!canvas.toDataURL || !document.querySelectorAll)\n    return\n\n  iconWidth = context.measureText(content).width\n\n  if(iconWidth > canvas.width)\n    context = getContext(iconWidth)\n\n  context.fillText(content, (canvas.width - iconWidth) / 2, canvas.height / 2)\n  link.setAttribute('rel', 'icon')\n  link.setAttribute('type', 'image/png')\n  link.setAttribute('href', canvas.toDataURL('image/png'))\n\n  for(var icons = document.querySelectorAll('link[rel*=icon]'), i = 0, l = icons.length; i < l; i++)\n    icons[i].parentNode.removeChild(icons[i])\n\n  document.getElementsByTagName('head')[0].appendChild(link)\n}\n"]},"metadata":{},"sourceType":"module"}